(this["webpackJsonpgenerasi-gigih-homework"]=this["webpackJsonpgenerasi-gigih-homework"]||[]).push([[0],{41:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(12),r=c.n(s),i=(c(41),c(14)),o=c(15),l=c(17),j=c(16),b=c(36),O=c(3),u=c(1),d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZE_URL:"https://accounts.spotify.com/authorize",REACT_APP_CLIENT_ID:"886f74a87d5649a78165b070b0328a76",REACT_APP_CLIENT_SECRET:"64e4965763df4130a931f6490f1ca395",REACT_APP_GIPHY_CODE:"PVpuyY4VR1cxLoRcFsiVA9x2HtzVw6W1",REACT_APP_REDIRECT_URL:"http://localhost:3000/redirect",REACT_APP_SCOPE:"user-read-private"}),h=d.REACT_APP_CLIENT_ID,p=d.REACT_APP_AUTHORIZE_URL,g=d.REACT_APP_REDIRECT_URL,m=["playlist-read-private","playlist-modify-private","user-read-private"].join("%20"),f=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){var e="".concat(p,"?client_id=").concat(h,"&redirect_uri=").concat(g,"&scope=").concat(m,"&response_type=token&show_dialog=true");return Object(u.jsxs)("div",{className:"wrap2",children:[Object(u.jsx)("h2",{children:"Music For Everyone"}),Object(u.jsx)("p",{children:"Sign in using your Spotify Account for music and playlist creation on your home device powered by the Spotify API."}),Object(u.jsx)("button",{type:"button",children:Object(u.jsx)("a",{className:"SpotifyButton",href:e,children:"Login Now"})})]})}}]),c}(a.Component),_=c(4),x=c(7),S=c.n(x),v=function(){var e=Object(a.useState)({}),t=Object(_.a)(e,2),c=t[0],n=t[1],s=localStorage.getItem("accessToken");return S.a.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer "+s}}).then((function(e){n(e.data)})).catch((function(e){console.log(e)})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"left-nav",children:[Object(u.jsx)("h1",{children:"Playlist"}),(null===c||void 0===c?void 0:c.items)?c.items.map((function(e){return Object(u.jsx)("div",{className:"left-navbar",children:Object(u.jsx)("a",{href:e.external_urls.spotify,children:e.name})},e.id)})):null]})})},y=c.p+"static/media/house.f97ade72.svg",E=c.p+"static/media/search.0b48a2f9.svg",A=c.p+"static/media/spotify.02ccaa93.svg";var T=function(){return Object(u.jsxs)("div",{className:"left-nav",children:[Object(u.jsx)("img",{src:A,width:"250",height:"150",alt:"spotify"}),Object(u.jsx)("div",{className:"left-navbar",children:Object(u.jsxs)("a",{href:"/redirect",children:[Object(u.jsx)("img",{src:y,width:"16",height:"16",alt:"house"})," \xa0 Home"]})}),Object(u.jsx)("div",{className:"left-navbar",children:Object(u.jsxs)("a",{href:"/search-track",children:[Object(u.jsx)("img",{src:E,width:"16",height:"16",alt:"search"})," \xa0 Search"]})}),Object(u.jsx)(v,{})]})},C=function(){var e=Object(a.useState)([]),t=Object(_.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(_.a)(s,2),i=r[0],o=r[1],l=localStorage.getItem("accessToken");return S.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+l}}).then((function(e){n(e.data.images),o(e.data)})).catch((function(e){console.log(e)})),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"nav",children:c&&c.map((function(e){return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsx)("img",{src:e.url,width:"40px",height:"40px",alt:""}),Object(u.jsx)("span",{children:i.display_name})]},e.id)}))})})},D=function(){var e=Object(a.useState)({}),t=Object(_.a)(e,2),c=t[0],n=t[1],s=localStorage.getItem("accessToken");return S.a.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer "+s}}).then((function(e){n(e.data)})).catch((function(e){console.log(e)})),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"outer",children:(null===c||void 0===c?void 0:c.items)?c.items.map((function(e){return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("a",{target:"_blank",href:e.external_urls.spotify,rel:"noopener noreferrer",children:Object(u.jsx)("img",{src:e.images[0].url,alt:"",width:"200",height:"200"})}),Object(u.jsx)("p",{children:Object(u.jsx)("b",{children:e.name})})]},e.id)})):null})})},P=function(){return Object(a.useEffect)((function(){if(window.location.hash){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var c=t.split("="),a=Object(_.a)(c,2),n=a[0],s=a[1];return e[n]=s,e}),{}),t=e.access_token,c=e.expires_in,a=e.token_type;localStorage.clear(),localStorage.setItem("accessToken",t),localStorage.setItem("tokenType",a),localStorage.setItem("expiresIn",c)}})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(T,{}),Object(u.jsx)(C,{}),Object(u.jsx)("div",{className:"wrap",children:Object(u.jsxs)("div",{className:"wrap3",children:[Object(u.jsx)("h2",{children:"Spotilist"}),Object(u.jsx)("p",{children:"Spotilist is a webpage that provide Kalista Playlists."}),Object(u.jsx)(D,{})]})})]})},R=function(){var e=Object(a.useState)(""),t=Object(_.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(_.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)(""),j=Object(_.a)(l,2),b=j[0],O=j[1];Object(a.useEffect)((function(){localStorage.getItem("accessToken")&&n(localStorage.getItem("accessToken"))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Create Playlist"}),Object(u.jsx)("input",{type:"text",placeholder:"Title",onChange:function(e){o(e.target.value)}}),Object(u.jsx)("input",{type:"text",placeholder:"Description",id:"desc",onChange:function(e){O(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){S.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+c}}).then((function(e){S()("https://api.spotify.com/v1/users/"+e.data.id+"/playlists",{method:"POST",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},data:{name:i,description:b,public:!1}}).then((function(e){S()("https://api.spotify.com/v1/playlists/"+e.data.id+"/tracks?uris=".concat(encodeURIComponent("spotify:track:0pYacDCZuRhcrwGUA5nTBe,spotify:track:71WZ7yFuwxmQz5jJUpvkGv,spotify:track:4cK8aSO2Ec4gmIjhtHfAKd")),{method:"POST",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})},N=function(){var e=Object(a.useState)(""),t=Object(_.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(_.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)([]),j=Object(_.a)(l,2),b=j[0],O=j[1],d=Object(a.useState)(""),h=Object(_.a)(d,2),p=h[0],g=h[1],m=Object(a.useState)(!1),f=Object(_.a)(m,2),x=f[0],v=f[1],y="https://api.spotify.com/v1/search?query=".concat(c,"&type=track"),E=function(e){e.preventDefault(),"Select"==e.target.value?e.target.value="Deselect":e.target.value="Select"};Object(a.useEffect)((function(){localStorage.getItem("accessToken")&&o(localStorage.getItem("accessToken"))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(T,{}),Object(u.jsx)(C,{}),Object(u.jsx)("div",{hidden:!x,children:Object(u.jsx)("div",{className:"modal",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)(R,{}),Object(u.jsx)("button",{onClick:function(){v(!1)},children:"Close"})]})})}),Object(u.jsxs)("div",{className:"wrap",children:[Object(u.jsxs)("div",{className:"wrap3",children:["Search, the track you wanna hear:",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"text",placeholder:"Enter the keyword",id:"search",value:c,onChange:function(e){n(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){S.a.get(y,{headers:{Authorization:"Bearer "+i}}).then((function(e){O(e.data.tracks.items),g(e.data.tracks.items.uri),console.log(e.data.tracks.items)})).catch((function(e){console.log(e)}))},children:"Search"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"button",value:"Create Playlist",onClick:function(){v(!0)}}),Object(u.jsx)("br",{})]}),Object(u.jsx)("div",{className:"outer",children:b.map((function(e){return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("a",{target:"_blank",href:e.external_urls.spotify,rel:"noopener noreferrer",children:Object(u.jsx)("img",{src:e.album.images[0].url,alt:"",width:"200",height:"200"})}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:e.name}),Object(u.jsx)("br",{}),"By ",e.album.artists.map((function(e){return e.name})).join(", ")]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"button",id:p,value:"Select",onClick:E})]},e.id)}))})]})]})},k=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(u.jsx)(b.a,{children:Object(u.jsx)("div",{className:"main",children:Object(u.jsxs)(O.c,{children:[Object(u.jsx)(O.a,{path:"/",component:f,exact:!0}),Object(u.jsx)(O.a,{path:"/redirect",component:P}),Object(u.jsx)(O.a,{path:"/search-track",component:N})]})})})}}]),c}(n.a.Component);c(65);var I=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(k,{})})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,68)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))},L=c(35),F=c(10),U=c(34),B=c(2),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{songs:[],albums:[],artists:[],loading:!0,token:null,playbackOn:!1,playbackPaused:!1,recArtistsloading:!1,recSongsloading:!1,user:{display_name:"Still loading",spotifyid:"none"},selectedPlaylist:"nothing",songMessage:!1,searchTerm:"Recommended Songs"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_SPOTIFY_DATA":return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case"ADD_SONGS":return Object(B.a)(Object(B.a)({},e),{},{songs:t.songs,loading:!1});case"ADD_ARTISTS":return Object(B.a)(Object(B.a)({},e),{},{artists:t.artists,loading:!1});case"SET_TOKEN":return Object(B.a)(Object(B.a)({},e),{},{token:t.payload});case"ADD_ALBUMS":return Object(B.a)(Object(B.a)({},e),{},{albums:t.albums,loading:!1});case"ADD_PLAYER":return Object(B.a)(Object(B.a)({},e),{},{player:t.player});case"ADD_DEVICE":return Object(B.a)(Object(B.a)({},e),{},{deviceID:t.deviceID});case"PLAYBACK_ON":case"PLAYBACK_OFF":return Object(B.a)(Object(B.a)({},e),{},{playbackOn:t.playbackOn});case"TURN_OFF_PAUSE":case"TURN_ON_PAUSE":return Object(B.a)(Object(B.a)({},e),{},{playbackPaused:t.playbackPaused});case"CHANGE_TRACKER_SONG":return Object(B.a)(Object(B.a)({},e),{},{songPlaying:t.songPlaying});case"ERASE_TRACKER_SONG":return Object(B.a)(Object(B.a)({},e),{},{songPlaying:void 0});case"ADD_SPOTIFY_USER":return Object(B.a)(Object(B.a)({},e),{},{spotifyuser:t.spotifyuser});case"ADD_USER":return Object(B.a)(Object(B.a)({},e),{},{user:t.user});case"ADD_SELECTED_PLAYLIST":return Object(B.a)(Object(B.a)({},e),{},{selectedPlaylist:t.playlist});case"ADD_RECOMMENDED_ARTISTS":return Object(B.a)(Object(B.a)({},e),{},{recArtistsloading:!0,recArtists:t.artists});case"LOADING_RECOMMENDED_ARTISTS":return Object(B.a)(Object(B.a)({},e),{},{recArtistsloading:!1});case"ADD_RECOMMENDED_SONGS":return Object(B.a)(Object(B.a)({},e),{},{recSongsloading:!0,recSongs:t.songs});case"LOADING_RECOMMENDED_SONGS":return Object(B.a)(Object(B.a)({},e),{},{recSongsloading:!1});case"ADD_RECENTLY_PLAYED_SONGS":return Object(B.a)(Object(B.a)({},e),{},{recPlayedloading:!0,recPlayedSongs:t.songs});case"LOADING_RECENT_SONGS":return Object(B.a)(Object(B.a)({},e),{},{recPlayedloading:!1});case"CHANGE_FROM_TRACKER":return Object(B.a)(Object(B.a)({},e),{},{changeFromTracker:t.changeFromTracker});case"ADD_SEARCH_TERM":return Object(B.a)(Object(B.a)({},e),{},{searchTerm:t.searchTerm});default:return e}},M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,H=Object(F.d)(G,M(Object(F.a)(U.a)));r.a.render(Object(u.jsx)(L.a,{store:H,children:Object(u.jsx)(I,{})}),document.getElementById("root")),w()}},[[67,1,2]]]);
//# sourceMappingURL=main.954a5b3c.chunk.js.map